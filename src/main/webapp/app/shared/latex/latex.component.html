<span *ngFor="let part of splitParagraph(equation)"
      [ngSwitch]="classify(part)">

<ng-katex *ngSwitchCase="DISPLAY_MODE"
          [equation]="clean(part)" [options]="options"></ng-katex>

<ng-katex *ngSwitchCase="INLINE_MODE"
          [equation]="clean(part)"></ng-katex>

<span *ngSwitchDefault>{{ part }}</span>

</span>
